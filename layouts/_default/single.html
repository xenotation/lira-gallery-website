{{ define "main" }}
<article>
    <div class="exhbition-small-title">
        {{ .Title }}&nbsp;/&nbsp;{{ .Params.artist }}
    </div>

    <div class="content-card-container">
        <div class="content-card">
            <div class="header-section">
                <h1>{{ .Title }}</h1>
                <div class="dates">{{ .Params.dates }}</div>
            </div>

            <!-- Number sequence under title (Dynamically generated) -->
            <div class="number-sequence" id="image-selector">
                {{ $counter := 1 }}
                {{ range $index, $file := (.Resources.ByType "image") }}
                    <span data-index="{{ $index }}">{{ printf "%02d" $counter }}</span>
                    {{ $counter = add $counter 1 }}
                {{ end }}
            </div>

            <!-- Decorative SVG -->
            <div class="decorative-svg">
                <img src="{{ "images/decorative-overlay.svg" | relURL }}" alt="Decorative Overlay" />
            </div>

            <!-- Image Section -->
            <div class="featured-image">
                <img id="main-image" src="{{ with (.Resources.ByType "image").Get 0 }}{{ .RelPermalink }}{{ end }}" alt="{{ .Title }}" />
            </div>

            <!-- Exhibition Content -->
            <div class="content-section">
                <p>{{ .Content }}</p>
                <div class="artist-name">{{ .Params.artist }}</div>
                <div class="bio">{{ .Params.bio }}</div>
            </div>
        </div>
    </div>
</article>

<!-- Load external JavaScript file -->
<script src="/js/image-gallery.js"></script>

<script>
    // Pass image URLs from Hugo to JavaScript
    window.imageGalleryData = {
        images: [
            {{ range .Resources.ByType "image" }}
            "{{ .RelPermalink }}",
            {{ end }}
        ]
    };
</script>
{{ end }}
